$colors: $tertiary_color , $primary_color, $secondary_color, $deep_grey;
$origins: left, bottom, top, right;

.loader
{
	background-color: white;
	z-index: 4;
	animation: happend 6.3s linear forwards;
	overflow: hidden;
	@include absolute_box(100%, 100%, 0, 0, 0, 0);
	&__block
	{
		box-sizing: border-box;
		margin: auto;
		top: 10%;
		width: 200px;
		height: 200px;
		position: relative;
		overflow: hidden;
	}

	&__block *
	{
		position: absolute;
		width: 50%;
		height: 50%;
		z-index: 5;
	}

	@for $i from 1 through 4
	{
		&__block__element-#{$i}
		{
			$count: 6;
			$t: 0;
			$l: 0;
			@if $i%2 == 1
			{
				$l: 50%;
			}
			@if $i > 2
			{
				$t: 50%;
			}
			top: $t;
			left: $l;


			&::before
			{

				position: absolute;
				background-color: nth($colors, $i);
				content:"";
				width: 100%;
				height: 100%;
				display: block;
				opacity: 1;
				z-index: 1;
				transform-origin: nth($origins, $i);
				animation: scale 1s linear $count alternate;
			}

			&::after
			{
				$index: (($i+1)%5);
				@if $index == 0
				{
					$index: 1;
				}

				position: absolute;
				background-color: nth($colors, $index);
				content:"";
				width: 100%;
				height: 100%;
				display: block;
				animation: scale 1s -0.7s linear $count alternate;
			}

		}
	}
}